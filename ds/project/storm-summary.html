
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <title>Storm 编程总结 · Distribution System</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.0.0">
        <meta name="author" content="zealscott">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-disqus/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-katex-plus/katex.min.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="sparksteaming.html" />
    
    
    <link rel="prev" href="storm-coding.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="https://tech.zealscott.com" target="_blank" class="custom-link">Homepage</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    Notes
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../notes/Distribution-File-System-DFS.html">
            
                <a href="../notes/Distribution-File-System-DFS.html">
            
                    
                    Distribution File System DFS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../notes/mapreduce.html">
            
                <a href="../notes/mapreduce.html">
            
                    
                    MapReduce处理系统
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../notes/mrcoding.html">
            
                <a href="../notes/mrcoding.html">
            
                    
                    MapReduce编程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../notes/RPC-and-serialization.html">
            
                <a href="../notes/RPC-and-serialization.html">
            
                    
                    RPC And Serialization
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../notes/spark.html">
            
                <a href="../notes/spark.html">
            
                    
                    Spark 处理框架
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="../notes/sparkcoding.html">
            
                <a href="../notes/sparkcoding.html">
            
                    
                    Spark 编程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="../notes/yarn.html">
            
                <a href="../notes/yarn.html">
            
                    
                    Yarn 资源管理框架
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8" data-path="../notes/zookeeper.html">
            
                <a href="../notes/zookeeper.html">
            
                    
                    ZooKeeper 元数据管理系统
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.9" data-path="../notes/pregel.html">
            
                <a href="../notes/pregel.html">
            
                    
                    分布式图处理系统--Pregel
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.10" data-path="../notes/flink.html">
            
                <a href="../notes/flink.html">
            
                    
                    批流融合系统--Flink
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.11" data-path="../notes/beam.html">
            
                <a href="../notes/beam.html">
            
                    
                    批流融合系统--展望
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.12" data-path="../notes/ps.html">
            
                <a href="../notes/ps.html">
            
                    
                    机器学习系统--Parameter Server
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.13" data-path="../notes/graphlab.html">
            
                <a href="../notes/graphlab.html">
            
                    
                    机器学习系统--GraphLab
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.14" data-path="../notes/mahout.html">
            
                <a href="../notes/mahout.html">
            
                    
                    机器学习系统--mahout
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.15" data-path="../notes/stream.html">
            
                <a href="../notes/stream.html">
            
                    
                    流计算系统概述
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    Lab
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="rpc.html">
            
                <a href="rpc.html">
            
                    
                    RPC model in Java
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="hadoop.html">
            
                <a href="hadoop.html">
            
                    
                    hadoop安装与配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="hadoop1.html">
            
                <a href="hadoop1.html">
            
                    
                    hadoop编程实践（一）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="hadoop2.html">
            
                <a href="hadoop2.html">
            
                    
                    hadoop编程实践（二）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="hadoop-coding.html">
            
                <a href="hadoop-coding.html">
            
                    
                    hadoop编程练习
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="hadoop-recap.html">
            
                <a href="hadoop-recap.html">
            
                    
                    Hadoop 编程总结
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="spark-installation.html">
            
                <a href="spark-installation.html">
            
                    
                    spark安装与配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.8" data-path="spark1.html">
            
                <a href="spark1.html">
            
                    
                    spark编程实践
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9" data-path="spark2.html">
            
                <a href="spark2.html">
            
                    
                    spark编程练习
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.10" data-path="spark-recap.html">
            
                <a href="spark-recap.html">
            
                    
                    Spark 编程总结
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.11" data-path="docker1.html">
            
                <a href="docker1.html">
            
                    
                    使用 Docker 配置 hadoop/spark
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.12" data-path="docker2.html">
            
                <a href="docker2.html">
            
                    
                    使用 docker 搭建 spark(2.3.1) 集群
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.13" data-path="zookeeper.html">
            
                <a href="zookeeper.html">
            
                    
                    ZooKeeper配置及简单使用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.14" data-path="yarn.html">
            
                <a href="yarn.html">
            
                    
                    Yarn框架下的系统部署
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.15" data-path="storm-installation.html">
            
                <a href="storm-installation.html">
            
                    
                    Storm部署与运行
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.16" data-path="storm-coding.html">
            
                <a href="storm-coding.html">
            
                    
                    Storm编程练习
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.3.17" data-path="storm-summary.html">
            
                <a href="storm-summary.html">
            
                    
                    Storm 编程总结
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.18" data-path="sparksteaming.html">
            
                <a href="sparksteaming.html">
            
                    
                    SparkSteaming使用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.19" data-path="flink-installation.html">
            
                <a href="flink-installation.html">
            
                    
                    Flink安装及使用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.20" data-path="flink1.html">
            
                <a href="flink1.html">
            
                    
                    Flink编程练习（一）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.21" data-path="flink2.html">
            
                <a href="flink2.html">
            
                    
                    Flink编程练习（二）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.22" data-path="graph-in-hadoop.html">
            
                <a href="graph-in-hadoop.html">
            
                    
                    常用图算法实现--Hadoop
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.23" data-path="graph-in-spark.html">
            
                <a href="graph-in-spark.html">
            
                    
                    常用图算法实现--Spark
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.24" data-path="graph-in-flink.html">
            
                <a href="graph-in-flink.html">
            
                    
                    常用图算法实现--Flink
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.25" data-path="giraph.html">
            
                <a href="giraph.html">
            
                    
                    Giraph配置及使用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.26" data-path="flink-iteration.html">
            
                <a href="flink-iteration.html">
            
                    
                    Flink迭代小记
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    Recap
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../recap/fundamental-of-distributed-system.html">
            
                <a href="../recap/fundamental-of-distributed-system.html">
            
                    
                    分布式系统基础
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../recap/batch-system.html">
            
                <a href="../recap/batch-system.html">
            
                    
                    批处理系统
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../recap/management-system.html">
            
                <a href="../recap/management-system.html">
            
                    
                    支持数据管理的底层系统
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../recap/streaming-system.html">
            
                <a href="../recap/streaming-system.html">
            
                    
                    流处理系统
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../recap/flink.html">
            
                <a href="../recap/flink.html">
            
                    
                    批流融合系统
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../recap/graph.html">
            
                <a href="../recap/graph.html">
            
                    
                    图处理系统
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="../recap/ml.html">
            
                <a href="../recap/ml.html">
            
                    
                    机器学习系统
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="../recap/summary.html">
            
                <a href="../recap/summary.html">
            
                    
                    总结与对比
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Storm 编程总结</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <p>+++
title = &quot;Storm &#x7F16;&#x7A0B;&#x603B;&#x7ED3;&quot;
slug = &quot;storm-summary&quot;
tags = [&quot;distributed system&quot;,&quot;project&quot;]
date = &quot;2018-11-27T15:51:51+08:00&quot;
description = &quot;&quot;</p>
<p>+++</p>
<p><a href="http://storm.apache.org/releases/1.0.6/Concepts.html" _target="blank">storm concept</a></p>
<h1 id="&#x57FA;&#x672C;&#x7C7B;">&#x57FA;&#x672C;&#x7C7B;</h1>
<h2 id="spout">Spout</h2>
<p>Spouts represent the source of data in Storm. You can write spouts to read data from data sources such as database, distributed file systems, messaging frameworks etc.</p>
<p><img src="../images/storm31.png" alt="storm31"></p>
<ul>
<li><p><strong>BaseRichSpout</strong> is an important class and all your Java spouts should extend it.</p>
<ul>
<li><p>main methods</p>
<ul>
<li><code>open</code> &#x2212; Provides the spout with an environment to execute. The executors will run this method to initialize the spout.</li>
</ul>
<pre><code class="lang-java"><span class="hljs-keyword">private</span> SpoutOutputCollector spoutOutputCollector;
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">open</span><span class="hljs-params">(Map conf, TopologyContext context, SpoutOutputCollector collector)</span></span>{
    <span class="hljs-keyword">this</span>.spoutOutputCollector = collector;
}
</code></pre>
<ul>
<li><code>nextTuple</code> &#x2212; Emits the generated data through the collector.</li>
</ul>
<pre><code class="lang-java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">nextTuple</span><span class="hljs-params">()</span></span>{
    <span class="hljs-keyword">this</span>.spoutOutputCollector.emit(values);
    <span class="hljs-comment">// it should sleep for at least one millisecond to reduce load on the processor before returning.</span>
    Utils.sleep(<span class="hljs-number">100</span>);
}
</code></pre>
<ul>
<li><code>declareOutputFields</code> &#x2212; Declares the output schema of the tuple.</li>
</ul>
<pre><code class="lang-java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">declareOutputFields</span><span class="hljs-params">(OutputFieldsDeclarer declarer)</span> </span>{
     declarer.declare(<span class="hljs-keyword">new</span> Fields(<span class="hljs-string">&quot;fieldName&quot;</span>));
}
</code></pre>
</li>
<li><p>other methods</p>
<ul>
<li><code>close</code> &#x2212; This method is called when a spout is going to shutdown.</li>
<li><code>ack</code> &#x2212; Acknowledges that a specific tuple is processed.</li>
<li><code>fail</code> &#x2212; Specifies that a specific tuple is not processed and not to be reprocessed.<ul>
<li><code>ack</code> and <code>fail</code> are only called for reliable spouts.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="bolt">Bolt</h2>
<ul>
<li>&#x4E3B;&#x8981;&#x63D0;&#x4F9B;&#x4E24;&#x4E2A;&#x7C7B;&#xFF0C;&#x5206;&#x522B;&#x4E3A;<code>BaseRichBolt</code>&#x548C;<code>BaseBasicBolt</code><ul>
<li><code>BaseBasicBolt</code> tuples are automatically anchored and acknowledged </li>
<li><code>BaseRichBolt</code> we have to do that ourselves</li>
<li>&#x53C2;&#x8003;<a href="https://stackoverflow.com/questions/32884809/use-baserichbolt-or-basebasicbolt-in-case-of-at-most-once-processing" _target="blank">&#x8FD9;&#x91CC;</a></li>
</ul>
</li>
<li>&#x4E0D;&#x8003;&#x8651;overhead&#xFF0C;&#x4F7F;&#x7528;<code>BaseBasicBolt</code>&#x5373;&#x53EF;</li>
</ul>
<h3 id="baserichbolt">BaseRichBolt</h3>
<ul>
<li><p>&#x4E3B;&#x8981;&#x5B9E;&#x73B0;<code>prepare</code>&#x3001;<code>execute</code>&#x3001;<code>declareOutputFields</code>&#x4E09;&#x4E2A;&#x63A5;&#x53E3;</p>
</li>
<li><p>&#x6CE8;&#x610F;&#xFF0C;&#x9700;&#x8981;&#x5BF9;<code>OutputCollector</code>&#x8FDB;&#x884C;<code>emit</code>&#x548C;<code>ack</code>&#x64CD;&#x4F5C;</p>
</li>
<li><pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SplitSentence</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">BaseRichBolt</span> </span>{
        OutputCollector _collector;

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">prepare</span><span class="hljs-params">(Map conf, TopologyContext context, OutputCollector collector)</span> </span>{
            _collector = collector;
        }

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">execute</span><span class="hljs-params">(Tuple tuple)</span> </span>{
            String sentence = tuple.getString(<span class="hljs-number">0</span>);
            <span class="hljs-keyword">for</span>(String word: sentence.split(<span class="hljs-string">&quot; &quot;</span>)) {
                _collector.emit(tuple, <span class="hljs-keyword">new</span> Values(word));
            }
            _collector.ack(tuple);
        }

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">declareOutputFields</span><span class="hljs-params">(OutputFieldsDeclarer declarer)</span> </span>{
            declarer.declare(<span class="hljs-keyword">new</span> Fields(<span class="hljs-string">&quot;word&quot;</span>));
        }        
    }
</code></pre>
</li>
</ul>
<h3 id="basebasicbolt">BaseBasicBolt</h3>
<ul>
<li><p>A lot of bolts follow a common pattern of reading an input tuple, emitting tuples based on it, and then acking the tuple at the end of the <code>execute</code> method. These bolts fall into the categories of filters and simple functions</p>
</li>
<li><p>&#x7B80;&#x5355;&#x7684;&#x51FD;&#x6570;&#x65F6;&#x4F7F;&#x7528;BaseBasicBolt&#x66F4;&#x7B80;&#x5355;&#xFF0C;&#x4F1A;&#x81EA;&#x52A8;acking&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<ul>
<li><pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SplitSentence</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">BaseBasicBolt</span> </span>{
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">execute</span><span class="hljs-params">(Tuple tuple, BasicOutputCollector collector)</span> </span>{
            String sentence = tuple.getString(<span class="hljs-number">0</span>);
            <span class="hljs-keyword">for</span>(String word: sentence.split(<span class="hljs-string">&quot; &quot;</span>)) {
                collector.emit(<span class="hljs-keyword">new</span> Values(word));
            }
        }

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">declareOutputFields</span><span class="hljs-params">(OutputFieldsDeclarer declarer)</span> </span>{
            declarer.declare(<span class="hljs-keyword">new</span> Fields(<span class="hljs-string">&quot;word&quot;</span>));
        }        
    }
</code></pre>
</li>
</ul>
</li>
<li><p>This implementation is simpler than the implementation from before and is semantically identical. Tuples emitted to <code>BasicOutputCollector</code> are <strong>automatically anchored to the input tuple,</strong> and the input tuple is <strong>acked</strong> for you automatically when the execute method completes.</p>
</li>
</ul>
<h2 id="topologybuilder">TopologyBuilder</h2>
<p>&#x6307;&#x5B9A;topology&#x7684;spout&#x548C;bolt&#xFF0C;&#x4EE5;&#x53CA;&#x5BF9;&#x5E94;&#x7684;field</p>
<pre><code class="lang-java">    TopologyBuilder builder = <span class="hljs-keyword">new</span> TopologyBuilder();
    builder.setSpout(<span class="hljs-string">&quot;gender&quot;</span>, genderSpout);
    builder.setSpout(<span class="hljs-string">&quot;age&quot;</span>, ageSpout);
    builder.setBolt(<span class="hljs-string">&quot;join&quot;</span>, <span class="hljs-keyword">new</span> SimpleJoinBolt(<span class="hljs-keyword">new</span> Fields(<span class="hljs-string">&quot;gender&quot;</span>, <span class="hljs-string">&quot;age&quot;</span>)))
      .fieldsGrouping(<span class="hljs-string">&quot;gender&quot;</span>, <span class="hljs-keyword">new</span> Fields(<span class="hljs-string">&quot;id&quot;</span>))
      .fieldsGrouping(<span class="hljs-string">&quot;age&quot;</span>, <span class="hljs-keyword">new</span> Fields(<span class="hljs-string">&quot;id&quot;</span>));
</code></pre>
<h2 id="stream-grouping">stream grouping</h2>
<ul>
<li><strong>Shuffle grouping</strong> - This type of grouping distributes tuples equally and randomly to all the available bolt tasks.</li>
<li><strong>Fields grouping</strong> - This type of grouping makes sure that tuples with same field will go to same bolt task. For example, if the stream is grouped by &quot;word&quot; field, tuples with same &quot;word&quot; value will always go to same bolt task.</li>
<li><strong>Partial Key grouping</strong> - The stream is partitioned by the fields specified in the grouping, like the Fields grouping, but are load balanced between two downstream bolts, which provides better utilization of resources when the incoming data is skewed.</li>
<li><strong>All grouping</strong> - In this grouping techniques, keys are not load balanced and all the stream goes to all of the downstream bolt tasks.</li>
<li><strong>Global grouping</strong> - In this grouping techniques, all the stream goes to any one of the downstream bolt task. This needs to be used with caution as this will serialize the processing of tuples that can result into slow processing of tuples.</li>
<li><strong>None grouping</strong> - This grouping is just an indicator that you don&apos;t care about grouping and would like to go with default. Currently, default grouping is shuffle grouping and may change in future releases so this should be used carefully.</li>
<li><strong>Direct grouping</strong> - In this grouping, producer of a tuple decides which task of the consumer will receive the emitted tuple. This is only applicable for streams declared as Direct stream.</li>
<li><strong>Local or shuffle grouping</strong> - Since a worker process can have multiple tasks, this grouping will shuffle to the in-process tasks. In case, a worker process is not configured to run multiple tasks, this will act as normal shuffle grouping.</li>
</ul>
<h1 id="window&#x76F8;&#x5173;">window&#x76F8;&#x5173;</h1>
<h2 id="joinbolt">joinBolt</h2>
<ul>
<li>&#x73B0;&#x5728;storm&#x4E5F;&#x63D0;&#x4F9B;&#x4E86;<code>join</code>&#xFF0C;&#x4F46;&#x4F7F;&#x7528;&#x4E0D;&#x591A;&#xFF0C;&#x5177;&#x4F53;&#x7528;&#x6CD5;&#x89C1;<a href="https://juejin.im/post/5bd284f0e51d457ab36d0493" _target="blank">&#x8FD9;&#x91CC;</a>&#x3002;</li>
<li>&#x5B98;&#x65B9;&#x6587;&#x6863;&#xFF1A;<a href="https://github.com/apache/storm/blob/21bb1388414d373572779289edc785c7e5aa52aa/docs/Joins.md" _target="blank">JoinBolt</a></li>
</ul>
<h1 id="storm&#x53EF;&#x9760;&#x6027;">Storm&#x53EF;&#x9760;&#x6027;</h1>
<ul>
<li><p>&#x4E3B;&#x8981;&#x53C2;&#x8003;&#x5B98;&#x7F51;&#xFF1A;<a href="http://storm.apache.org/releases/current/Guaranteeing-message-processing.html" _target="blank">Guaranteeing Message Processing</a></p>
</li>
<li><p><a href="https://blog.csdn.net/wb81074/article/details/50259851" _target="blank">Storm&#x53EF;&#x9760;&#x6027;&#x603B;&#x7ED3;</a></p>
</li>
</ul>
<h2 id="outputcollector">OutputCollector</h2>
<ul>
<li>Storm&#x4E3A;&#x4E86;&#x7B80;&#x5316;&#x7F16;&#x7A0B;&#xFF0C;&#x5B83;&#x63D0;&#x4F9B;&#x4E86;BaseBasicBolt&#xFF0C;&#x8FD9;&#x4E2A;&#x7C7B;&#x63D0;&#x4F9B;&#x7684;collector&#x4E0D;&#x662F;&#x4E00;&#x822C;&#x7684;OutputCollector&#xFF0C;&#x800C;&#x662F;BasicOutputCollector&#xFF0C;&#x901A;&#x8FC7;BasciOutputCollector&#xFF0C;&#x5DF2;&#x7ECF;&#x5B9E;&#x73B0;&#x4E86;&#x951A;&#x5B9A;&#x548C;&#x7ED3;&#x679C;&#x901A;&#x77E5;&#x3002;&#x6211;&#x4EEC;&#x53EA;&#x8981;&#x7EE7;&#x627F;BaseBasicBolt&#x6765;&#x5B9A;&#x4E49;Bolt&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002;</li>
<li>&#x53D1;&#x9001;&#x6D88;&#x606F;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x53EA;&#x8981;collector.emit(newtuple); &#x53EA;&#x8981;&#x6307;&#x5B9A;&#x65B0;&#x4EA7;&#x751F;&#x7684;tuple&#x5C31;&#x4EE5;&#x4E86;&#xFF0C;&#x65E0;&#x9700;&#x6307;&#x5B9A;&#x6E90;tuple&#x3002;</li>
<li>&#x53D1;&#x9001;&#x7ED3;&#x679C;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5982;&#x679C;&#x6210;&#x529F;&#x4E86;&#xFF0C;&#x53EF;&#x4EE5;&#x4E0D;&#x9700;&#x8981;&#x5199;&#x4EFB;&#x4F55;&#x4EE3;&#x7801;&#xFF1B;&#x5982;&#x679C;&#x5931;&#x8D25;&#x4E86;&#xFF0C;&#x5219;&#x629B;&#x51FA;&#x4E00;&#x4E2A;FailedException&#x5F02;&#x5E38;&#x3002;</li>
</ul>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="storm-coding.html" class="navigation navigation-prev " aria-label="Previous page: Storm编程练习">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="sparksteaming.html" class="navigation navigation-next " aria-label="Next page: SparkSteaming使用">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Storm 编程总结","level":"1.3.17","depth":2,"next":{"title":"SparkSteaming使用","level":"1.3.18","depth":2,"path":"project/sparksteaming.md","ref":"project/sparksteaming.md","articles":[]},"previous":{"title":"Storm编程练习","level":"1.3.16","depth":2,"path":"project/storm-coding.md","ref":"project/storm-coding.md","articles":[]},"dir":"ltr"},"config":{"plugins":["github","disqus","katex-plus","ga","back-to-top-button","-lunr","-search","search-pro","expandable-chapters"],"ignores":["node_modules","_book"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"disqus":{"shortName":"techzealscott","useIdentifier":false},"github":{"url":"https://github.com/scottdyt"},"search-pro":{},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"katex-plus":{},"back-to-top-button":{},"ga":{"token":"UA-116370175-1","configuration":"auto"},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"expandable-chapters":{}},"theme":"default","author":"zealscott","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"sortedBy":" ","variables":{},"title":"Distribution System","links":{"sidebar":{"Homepage":"https://tech.zealscott.com"}},"gitbook":"*"},"file":{"path":"project/storm-summary.md","mtime":"2021-01-27T07:20:25.127Z","type":"markdown"},"gitbook":{"version":"3.0.0","time":"2021-03-04T09:58:50.487Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/URI.js/1.16.1/URI.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-disqus/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/buttons.js"></script>
        
    

    </body>
</html>

